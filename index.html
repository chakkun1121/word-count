<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>文字数カウンター</title>

</head>

<body>
  <h1>文字数カウンター</h1>
  <h2><span style="user-select:all;">https://tools.chakkun1121haru.repl.co/tools/word%20count/app%201.0.0/index.html?text=%s</span>を検索エンジンの設定画面に入力して設定するとすぐに文字数カウントができます。</h2>
  <div class='output' style='display:flex;'>
    <p>文字数→</p>
    <p id=output>0</p>
  </div>
  <textarea id=input onchange="count()" style="width:100vh;"></textarea>
  <script>
    let url_input = getParam('text')
    if (url_input) {
      let input = document.getElementById('input');
      input.value = url_input
    }
    function getParam(name, url) {
      if (!url) url = window.location.href;
      name = name.replace(/[\[\]]/g, "\\$&");
      var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
      if (!results) return null;
      if (!results[2]) return '';
      return decodeURIComponent(results[2].replace(/\+/g, " "));
    }
    function count() {
      let input = document.getElementById('input').value;
      let output = document.getElementById('output');
      output.innerHTML = input.length
    }
    setInterval(count, 50);
  </script>
</body>

</html>